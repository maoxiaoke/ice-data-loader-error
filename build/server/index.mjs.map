{
  "version": 3,
  "sources": ["../../.ice/Users/nazha/nazha-demos/ice-loader/.ice/env.server.ts", "../../.ice/Users/nazha/nazha-demos/ice-loader/.ice/entry.server.ts", "../../.ice/Users/nazha/nazha-demos/ice-loader/.ice/runtimeModules.ts", "../../src/Users/nazha/nazha-demos/ice-loader/src/app.tsx", "../../src/Users/nazha/nazha-demos/ice-loader/src/document.tsx", "../../.ice/Users/nazha/nazha-demos/ice-loader/.ice/routes.ts", "../../.ice/Users/nazha/nazha-demos/ice-loader/.ice/routes-config.bundle.mjs"],
  "sourcesContent": ["// Define process.env in top make it possible to use ICE_CORE_* in @ice/runtime, esbuild define options doesn't have the ability\n// The runtime value such as __process.env.ICE_CORE_*__ will be replaced by esbuild define, so the value is real-time\n\nprocess.env.ICE_CORE_MODE = __process.env.ICE_CORE_MODE__;\nprocess.env.ICE_CORE_ROUTER = __process.env.ICE_CORE_ROUTER__;\nprocess.env.ICE_CORE_ERROR_BOUNDARY = __process.env.ICE_CORE_ERROR_BOUNDARY__;\nprocess.env.ICE_CORE_INITIAL_DATA = __process.env.ICE_CORE_INITIAL_DATA__;\nprocess.env.ICE_CORE_DEV_PORT = __process.env.ICE_CORE_DEV_PORT__;", "import './env.server';\nimport * as runtime from '@ice/runtime/server';\nimport { commons, statics } from './runtimeModules';\nimport * as app from '@/app';\nimport Document from '@/document';\nimport type { RenderMode } from '@ice/runtime';\n// @ts-ignore\nimport assetsManifest from 'virtual:assets-manifest.json';\nimport routes from './routes';\nimport routesConfig from './routes-config.bundle.mjs';\n\n\nconst runtimeModules = { commons, statics };\n\nconst getRouterBasename = () => {\n  const appConfig = runtime.getAppConfig(app);\n  return appConfig?.router?.basename ?? '/' ?? '';\n}\n\nconst setRuntimeEnv = (renderMode) => {\n  if (renderMode === 'SSG') {\n    process.env.ICE_CORE_SSG = 'true';\n  } else {\n    process.env.ICE_CORE_SSR = 'true';\n  }\n}\n\ninterface RenderOptions {\n  documentOnly?: boolean;\n  renderMode?: RenderMode;\n  basename?: string;\n  serverOnlyBasename?: string;\n  routePath?: string;\n  disableFallback?: boolean;\n}\n\nexport async function renderToHTML(requestContext, options: RenderOptions = {}) {\n  const { documentOnly, renderMode = 'SSR', basename, serverOnlyBasename, routePath, disableFallback } = options;\n  setRuntimeEnv(renderMode);\n\n  return await runtime.renderToHTML(requestContext, {\n    app,\n    assetsManifest,\n    routes,\n    runtimeModules,\n    Document,\n    serverOnlyBasename,\n    basename: basename || getRouterBasename(),\n    documentOnly,\n    renderMode,\n    routePath,\n    disableFallback,\n    routesConfig,\n  });\n}\n\nexport async function renderToResponse(requestContext, options: RenderOptions = {}) {\n  const { documentOnly, renderMode = 'SSR', basename, serverOnlyBasename, disableFallback } = options;\n  setRuntimeEnv(options);\n\n  runtime.renderToResponse(requestContext, {\n    app,\n    assetsManifest,\n    routes,\n    runtimeModules,\n    Document,\n    serverOnlyBasename,\n    basename: basename || getRouterBasename(),\n    documentOnly,\n    renderMode,\n    disableFallback,\n    routesConfig,\n  });\n}\n", "import module0 from '@ice/plugin-auth/esm/runtime';\n                \nexport const statics = [\n];\nexport const commons = [\n  module0,\n];\n\n\n", "import { defineAppConfig } from 'ice';\nimport { defineAuthConfig } from '@ice/plugin-auth/esm/types';\n\nconsole.log('__LOG__');\nconsole.warn('__WARN__');\nconsole.error('__ERROR__');\n\nexport const authConfig = defineAuthConfig(() => {\n  return {\n    initialAuth: {\n      admin: true,\n    },\n  };\n});\n\nexport default defineAppConfig(() => ({}));\n", "import { Meta, Title, Links, Main, Scripts } from 'ice';\n\nfunction Document() {\n  return (\n    <html>\n      <head>\n        <meta charSet=\"utf-8\" />\n        <meta name=\"description\" content=\"ICE Demo\" />\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n        <Meta />\n        <Title />\n        <Links />\n      </head>\n      <body>\n        <Main />\n        <Scripts />\n      </body>\n    </html>\n  );\n}\n\nexport default Document;\n", "export default [\n  {\n    path: '',\n    load: () => import(/* webpackChunkName: \"p_layout\" */ '@/pages/layout'),\n    componentName: 'layout',\n    index: undefined,\n    id: 'layout',\n    exact: true,\n    exports: [\"dataLoader\",\"default\",\"pageConfig\"],\n    layout: true,\n    children: [{\n      path: 'about',\n      load: () => import(/* webpackChunkName: \"p_about-layout\" */ '@/pages/about/layout'),\n      componentName: 'about-layout',\n      index: undefined,\n      id: 'about/layout',\n      exact: true,\n      exports: [\"dataLoader\",\"default\"],\n      layout: true,\n      children: [{\n        path: 'another',\n        load: () => import(/* webpackChunkName: \"p_about-another\" */ '@/pages/about/another'),\n        componentName: 'about-another',\n        index: undefined,\n        id: 'about/another',\n        exact: true,\n        exports: [\"dataLoader\",\"default\"],\n      },{\n        path: '',\n        load: () => import(/* webpackChunkName: \"p_about-index\" */ '@/pages/about/index'),\n        componentName: 'about-index',\n        index: true,\n        id: 'about/index',\n        exact: true,\n        exports: [\"dataLoader\",\"default\"],\n      },]\n    },{\n      path: '',\n      load: () => import(/* webpackChunkName: \"p_index\" */ '@/pages/index'),\n      componentName: 'index',\n      index: true,\n      id: 'index',\n      exact: true,\n      exports: [\"dataLoader\",\"default\",\"pageConfig\"],\n    },{\n      path: 'blog',\n      load: () => import(/* webpackChunkName: \"p_blog\" */ '@/pages/blog'),\n      componentName: 'blog',\n      index: undefined,\n      id: 'blog',\n      exact: true,\n      exports: [\"default\",\"pageConfig\"],\n    },]\n  },\n];\n", "// .ice/index.ts\nimport { Link, Outlet, useParams, useSearchParams, useLocation, useNavigate } from \"@ice/runtime/router\";\nimport { defineAppConfig, useAppData, useData, useConfig, Meta, Title, Links, Scripts, Data, Main, history, KeepAliveOutlet, useMounted, ClientOnly, defineDataLoader, defineServerDataLoader, defineStaticDataLoader } from \"@ice/runtime\";\n\n// node_modules/.pnpm/npm.urbanic-inc.com+@ice+plugin-auth@1.0.0_biqbaboplfbrettd7655fr4n2y/node_modules/@ice/plugin-auth/esm/runtime/index.js\nimport * as React2 from \"react\";\n\n// node_modules/.pnpm/npm.urbanic-inc.com+@ice+plugin-auth@1.0.0_biqbaboplfbrettd7655fr4n2y/node_modules/@ice/plugin-auth/esm/runtime/Auth.js\nimport * as React from \"react\";\nimport { createContext, useContext } from \"react\";\nvar Context = createContext(null);\nContext.displayName = \"AuthContext\";\nvar AuthProvider = Context.Provider;\n\n// .ice/index.ts\nfunction definePageConfig(pageConfig4) {\n  return pageConfig4;\n}\n\n// src/pages/layout.tsx\nvar pageConfig = definePageConfig(() => {\n  return {\n    title: \"Layout\",\n    meta: [{\n      name: \"layout-color\",\n      content: \"#f00\"\n    }],\n    auth: [\"admin\"]\n  };\n});\n\n// src/pages/index.tsx\nvar pageConfig2 = definePageConfig(() => {\n  return {\n    title: \"Home\",\n    meta: [{\n      name: \"theme-color\",\n      content: \"#000\"\n    }, {\n      name: \"title-color\",\n      content: \"#f00\"\n    }],\n    auth: [\"admin\"]\n  };\n});\n\n// src/pages/blog.tsx\nvar pageConfig3 = definePageConfig(() => {\n  return {\n    title: \"Blog\",\n    auth: [\"guest\"]\n  };\n});\n\n// .ice/routes-config.ts\nvar routes_config_default = {\n  \"layout\": pageConfig,\n  \"index\": pageConfig2,\n  \"blog\": pageConfig3\n};\nexport {\n  routes_config_default as default\n};\n"],
  "mappings": "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",
  "names": ["process", "env", "ICE_CORE_MODE", "__process", "ICE_CORE_ROUTER", "ICE_CORE_ERROR_BOUNDARY", "ICE_CORE_INITIAL_DATA", "ICE_CORE_DEV_PORT", "runtime", "statics", "commons", "module0", "defineAppConfig", "Document", "html", "head", "meta", "charSet", "name", "content", "Meta", "Title", "Links", "body", "Main", "Scripts", "path", "load", "componentName", "index", "undefined", "id", "exact", "exports", "layout", "children", "Link", "Outlet", "useParams", "useSearchParams", "useLocation", "useNavigate", "defineAppConfig", "useAppData", "useData", "useConfig", "Meta", "Title", "Links", "Scripts", "Data", "Main", "history", "KeepAliveOutlet", "useMounted", "ClientOnly", "defineDataLoader", "defineServerDataLoader", "defineStaticDataLoader", "React2", "React", "createContext", "useContext", "Context", "displayName", "AuthProvider", "Provider", "definePageConfig", "pageConfig4", "pageConfig", "title", "meta", "name", "content", "auth", "pageConfig2", "pageConfig3", "routes_config_default", "runtimeModules", "commons", "statics", "getRouterBasename", "appConfig", "getAppConfig", "app", "router", "basename", "setRuntimeEnv", "renderMode", "process", "env", "ICE_CORE_SSG", "ICE_CORE_SSR", "renderToHTML", "requestContext", "options", "documentOnly", "serverOnlyBasename", "routePath", "disableFallback", "assetsManifest", "routes", "Document", "routesConfig", "renderToResponse", "runtime"]
}
